'use client';

import Link from 'next/link';

export default function CartIcon (
  { minicartItemCount }: { minicartItemCount: number }
) {

  return (
    <Link 
      href="/cart" 
      className="relative p-2 text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 rounded-md"
      title="Shopping Cart"
    >
      <svg 
        className="text-black h-6 w-6" 
        width="25" 
        height="25" 
        viewBox="0 0 29 29" 
        fill="none" 
        xmlns="http://www.w3.org/2000/svg"
        aria-hidden="true"
      >
        <path 
          fillRule="evenodd" 
          clipRule="evenodd" 
          d="M7.52536 24.5665C8.55814 24.5665 9.39855 25.4055 9.39855 26.4383C9.39855 27.471 8.55814 28.3115 7.52536 28.3115C6.49257 28.3115 5.65361 27.471 5.65361 26.4383C5.65361 25.4055 6.49257 24.5665 7.52536 24.5665ZM23.8421 24.5665C24.8763 24.5665 25.7167 25.4055 25.7167 26.4383C25.7167 27.471 24.8763 28.3115 23.8421 28.3115C22.8093 28.3115 21.9704 27.471 21.9704 26.4383C21.9704 25.4055 22.8093 24.5665 23.8421 24.5665ZM1.34049 0.0596251L4.34917 0.580359C4.83374 0.665701 5.2026 1.06782 5.24454 1.55963L5.58447 5.61122L6.84848 5.61177C7.05474 5.61186 7.25882 5.61195 7.46073 5.61204L9.78133 5.61315C9.9663 5.61324 10.1492 5.61333 10.3301 5.61342L12.8924 5.61483C13.0533 5.61492 13.2124 5.61502 13.3695 5.61511L15.1651 5.61626C15.3073 5.61635 15.4478 5.61645 15.5864 5.61655L17.1657 5.61771C17.2904 5.61781 17.4134 5.61791 17.5347 5.618L18.9117 5.61919C19.02 5.61929 19.1267 5.61939 19.2319 5.61949L20.1369 5.62039C20.2329 5.62049 20.3274 5.62059 20.4205 5.62069L21.4686 5.6219C21.5503 5.62201 21.6307 5.62211 21.7097 5.62221L22.5946 5.62345C22.6632 5.62355 22.7306 5.62365 22.7967 5.62376L23.3591 5.6247C23.418 5.6248 23.4758 5.62491 23.5324 5.62501L24.1589 5.62628C24.2068 5.62639 24.2537 5.62649 24.2995 5.6266L24.6851 5.62757C24.725 5.62767 24.764 5.62778 24.802 5.62789L25.2153 5.62919C25.2463 5.6293 25.2765 5.62941 25.3058 5.62952L25.5485 5.63051C25.5732 5.63062 25.5971 5.63073 25.6203 5.63084L25.8658 5.63218C25.8836 5.63229 25.9008 5.6324 25.9174 5.63252L26.0513 5.63353C26.0645 5.63365 26.0771 5.63376 26.0893 5.63387L26.1856 5.6349C26.1949 5.63501 26.2038 5.63513 26.2123 5.63524L26.2778 5.63628C26.284 5.6364 26.2898 5.63651 26.2953 5.63663L26.3368 5.63768C26.3406 5.6378 26.3441 5.63791 26.3474 5.63803L26.3774 5.63945C26.3793 5.63957 26.381 5.63969 26.3826 5.6398C26.3966 5.64112 26.3987 5.64136 26.4008 5.6416C27.2065 5.75877 27.9153 6.17969 28.3984 6.82772C28.8815 7.47429 29.084 8.27131 28.9683 9.06976L27.5956 18.5558C27.3367 20.361 25.7687 21.7221 23.9461 21.7221H8.14908C6.24406 21.7221 4.63124 20.2352 4.47646 18.333L3.15148 2.57506L0.971635 2.19897C0.380024 2.09483 -0.0148653 1.53504 0.0863885 0.943426C0.190535 0.351814 0.761896 -0.0329498 1.34049 0.0596251ZM6.55829 7.78144L5.76672 7.78095L6.63895 18.1551C6.7026 18.9536 7.35496 19.5524 8.15197 19.5524H23.9432C24.6968 19.5524 25.3405 18.9912 25.4476 18.2462L26.8217 8.75877C26.8535 8.53312 26.7971 8.30747 26.6597 8.12521C26.5237 7.94151 26.3241 7.8229 26.0985 7.79107C26.088 7.79147 26.0631 7.79184 26.0242 7.79217L25.8669 7.79307C25.834 7.7932 25.7978 7.79333 25.7584 7.79345L24.939 7.79469C24.8698 7.79474 24.798 7.79479 24.7234 7.79482L22.7967 7.79474C22.6892 7.7947 22.5797 7.79466 22.4682 7.79461L20.2694 7.79327C20.1376 7.79318 20.0045 7.79308 19.87 7.79297L18.6258 7.79198C18.4841 7.79186 18.3413 7.79174 18.1975 7.79162L16.8797 7.79046C16.7308 7.79032 16.5813 7.79019 16.4311 7.79005L15.5233 7.78922C15.371 7.78907 15.2183 7.78893 15.0651 7.78879L13.6798 7.7875C13.5254 7.78735 13.3708 7.78721 13.2163 7.78706L12.2896 7.7862C12.1354 7.78606 11.9813 7.78592 11.8275 7.78578L10.9087 7.78494C10.7564 7.7848 10.6044 7.78467 10.453 7.78454L9.10705 7.78338C8.95962 7.78325 8.81298 7.78313 8.66723 7.78301L6.96628 7.78172C6.82901 7.78162 6.69299 7.78153 6.55829 7.78144ZM21.62 10.9579C22.2189 10.9579 22.7049 11.4439 22.7049 12.0427C22.7049 12.6416 22.2189 13.1276 21.62 13.1276H17.6104C17.0101 13.1276 16.5255 12.6416 16.5255 12.0427C16.5255 11.4439 17.0101 10.9579 17.6104 10.9579H21.62Z" 
          fill="currentColor"
        />
      </svg>
      
      { minicartItemCount > 0 && (
        <span className="absolute -top-1 -right-1 h-5 w-5 rounded-full bg-indigo-600 text-xs font-medium text-white flex items-center justify-center">
          { minicartItemCount > 99 ? '99+' : minicartItemCount }
        </span>
      ) }
    </Link>
  );
}
